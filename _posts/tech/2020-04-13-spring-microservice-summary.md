---
layout: post
title: "[MSA] 스프링 마이크로서비스 정리 (spring microservice)"
description: 스프링 마이크로서비스 책 내용 정리
author: kimchanjung
date:   2020-04-13 00:00:00 +0900
categories: tech
published: true
---

# [MSA] 스프링 마이크로서비스 정리 (spring microservice)

> 마이크로 서비스의 경계 설정에 있어 만병 통치약은 없다

## 마이크로 서비스의 경계 설정 시 피해야 할 조건
> 마이크로 서비스간 낮은 응집도와 결합도를 유지해야한다
- 너무 많은 정보교환
- 너무 많은 동기적 요청, 응답
- 순환의존관계
- 트랜잭션 범위가 여러 마이크로 서비스에 걸치지 않게 해야함

## 적절한 마이크로 서비스 경계 설정 조건
### 자율적인 기능
- 외부 기능에 대한 의존도가 낮다

### 배포 단위의 크기
- 기능이 많은 서비스는 배포규모가 커진다
- 배포단위의 크기를 감당 가능한 수준으로 유지
 
### 분리하기 적합한 기능 또는 서브도메인
- 마이크로 서비스 전환시 자원소모량, 소유 비용, 비즈니스 유용성, 유연성 등이 분석 기준이 된다
- 마이크로 서비스로의 분리가 유용한 선택인지, 분석기준을 통하여 판단한다
- 검색 요청이 전체 리소스에 많은 부분을 차지하는 시스템이라면 분리시 여러가지로 유리

### 하나의 제품으로 생각을 해본다
- 경계 지어진 마이크로 서비스가 하나의 제품으로 구성될 수 있는지의 관점에서 평가 해보자


## 동기와 비동기 선택기준
> 어느 하나의 방식만으로 시스템을 개발하는 것은 불가능, 장단점을 따져서 두방식을 적절히 조합

### 동기
- 사용자가 즉시 응답을 받아야 하는 서비스
- 마이크로 서비스간 의존성을 높이는 단점
 
### 비동기
- 즉시 응답 받지 않아도 되는 서비스
  > 이메일, 문자 발송, 포인트 서비스, 재고 갱신


